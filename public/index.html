<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover, shrink-to-fit=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Para GitHub Pages -->
    <base href="/">
    <title>V.I.P - Conecta con personas</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="app">
        <!-- SPLASH SCREEN -->
        <div id="splash-screen" class="screen active">
            <div class="splash-content">
                <h1>üí¨ V.I.P</h1>
                <p>En V.I.P todos somos cristianos</p>
                <p>Creado por Kendry M.D </p>p
                <div class="loading-spinner"></div>
            </div>
        </div>

        <!-- AUTH SCREEN -->
        <div id="auth-screen" class="screen">
            <div class="auth-container">
                <div class="auth-header">
                    <h2 id="authTitle">Bienvenido</h2>
                    <p id="authSubtitle">Inicia sesi√≥n para continuar</p>
                </div>
                
                <div id="loginForm">
                    <div class="input-group">
                        <label>Email</label>
                        <input type="email" id="loginEmail" placeholder="tu@email.com" value="ana@email.com">
                    </div>
                    <div class="input-group">
                        <label>Contrase√±a</label>
                        <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" value="123456">
                    </div>
                    <button class="btn btn-primary" onclick="handleLogin()">Iniciar Sesi√≥n</button>
                    <button class="btn btn-secondary" onclick="showRegister()">Crear Cuenta</button>
                </div>
                
                <div id="registerForm" style="display: none;">
                    <div class="input-group">
                        <label>Nombre</label>
                        <input type="text" id="regName" placeholder="Tu nombre">
                    </div>
                    <div class="input-group">
                        <label>Email</label>
                        <input type="email" id="regEmail" placeholder="tu@email.com">
                    </div>
                    <div class="input-group">
                        <label>Contrase√±a</label>
                        <input type="password" id="regPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <div class="input-group">
                        <label>C√≥digo de Referido <span style="color: #f44336;">*</span></label>
                        <input type="text" id="regReferralCode" placeholder="C√≥digo de invitaci√≥n" value="qwerty">
                        <small style="color: #666; font-size: 12px;">C√≥digo de prueba: qwerty</small>
                    </div>
                    <button class="btn btn-primary" onclick="handleRegister()">Registrarse</button>
                    <button class="btn btn-secondary" onclick="showLogin()">Volver a Login</button>
                </div>
            </div>
        </div>

        <!-- PHOTO UPLOAD SCREEN -->
        <div id="photo-screen" class="screen">
            <div class="photo-container">
                <div class="photo-header">
                    <h2>¬°Casi listo! üì∏</h2>
                    <p>Sube una foto para que te conozcan</p>
                </div>
                
                <div id="photoPreview" class="photo-preview">
                    <div class="photo-placeholder">
                        <span>üì∑</span>
                        <p>Sin foto</p>
                    </div>
                </div>
                
                <label for="photoInput" class="file-input-label">üìÅ Seleccionar foto</label>
                <input type="file" id="photoInput" accept="image/*" onchange="handlePhotoUpload(event)">
                
                <button class="btn btn-primary" onclick="savePhoto()">Continuar</button>
                <button class="btn btn-secondary" onclick="logout()">Cerrar sesi√≥n</button>
            </div>
        </div>

        <!-- MAIN APP SCREEN -->
        <div id="main-screen" class="screen">
            <div class="main-container">
                <div class="main-header">
                    <h1>Baduu</h1>
                    <div class="header-profile">
                        <img id="headerAvatar" src="" alt="Avatar" class="user-avatar" onclick="showSection('perfil')">
                    </div>
                </div>
                
                <div class="main-nav">
                    <div class="nav-item active" onclick="showSection('encuentros')">
                        <span>üë•</span>
                        <span class="nav-label">Encuentros</span>
                    </div>
                    <div class="nav-item" onclick="showSection('muro')">
                        <span>üì±</span>
                        <span class="nav-label">Muro</span>
                    </div>
                    <div class="nav-item" onclick="showSection('mensajes')">
                        <span>üí¨</span>
                        <span class="nav-label">Mensajes</span>
                        <span id="unreadBadge" class="badge" style="display: none;">0</span>
                    </div>
                    <div class="nav-item" onclick="showSection('perfil')">
                        <span>üë§</span>
                        <span class="nav-label">Perfil</span>
                    </div>
                </div>

                <div id="content-area" class="content-area">
                    <!-- ENCUENTROS - TINDER CARDS -->
                    <div id="encuentros-section">
                        <div id="cards-container" class="cards-container"></div>
                    </div>

                    <!-- MURO SOCIAL -->
                    <div id="muro-section" style="display: none;">
                        <div class="muro-container">
                            <div class="crear-publicacion">
                                <textarea id="publicacionTexto" class="publicacion-input" placeholder="¬øQu√© quieres compartir?" rows="2"></textarea>
                                <div class="publicacion-actions">
                                    <label for="publicacionFoto" class="publicacion-btn btn-foto">üì∑ Foto</label>
                                    <input type="file" id="publicacionFoto" accept="image/*" style="display: none;" onchange="previewPublicacionFoto(event)">
                                    <button class="publicacion-btn btn-publicar" onclick="crearPublicacion()">Publicar</button>
                                </div>
                                <div id="fotoPreviewContainer" class="foto-preview-container" style="display: none;">
                                    <img id="fotoPreview" class="foto-preview">
                                </div>
                            </div>
                            <div id="publicacionesList" class="publicaciones-list"></div>
                        </div>
                    </div>

                    <!-- MENSAJES - MATCHES -->
                    <div id="mensajes-section" style="display: none;">
                        <div class="matches-header">
                            <h3>Mis Matches üíï</h3>
                        </div>
                        <div id="matchesList" class="matches-list"></div>
                        <div id="conversationsList" class="conversations-list"></div>
                    </div>

                    <!-- CHAT -->
                    <div id="chat-section" style="display: none;">
                        <div class="chat-container">
                            <div class="chat-header">
                                <button class="chat-back" onclick="backToMessages()">‚Üê</button>
                                <div class="chat-user-info">
                                    <img id="chatAvatar" src="" alt="" class="chat-avatar">
                                    <div class="chat-user-details">
                                        <span id="chatUserName" class="chat-user-name"></span>
                                        <span id="chatUserStatus" class="chat-user-status">‚óè En l√≠nea</span>
                                    </div>
                                </div>
                            </div>
                            <div id="chatMessages" class="chat-messages"></div>
                            <div class="chat-input-area">
                                <input type="text" id="chatInput" class="chat-input" placeholder="Escribe un mensaje..." autocomplete="off">
                                <button class="chat-send" onclick="sendMessage()">‚û§</button>
                            </div>
                        </div>
                    </div>

                    <!-- PERFIL -->
                    <div id="perfil-section" style="display: none;">
                        <div class="profile-container">
                            <img id="profilePhoto" src="" alt="Foto de perfil" class="profile-photo">
                            <div id="profileName" class="profile-name"></div>
                            <div id="profileEmail" class="profile-email"></div>
                            
                            <div class="profile-stats">
                                <div class="stat-item">
                                    <div id="profileMatchesCount" class="stat-value">0</div>
                                    <div class="stat-label">Matches</div>
                                </div>
                                <div class="stat-item">
                                    <div id="profileMessagesCount" class="stat-value">0</div>
                                    <div class="stat-label">Mensajes</div>
                                </div>
                                <div class="stat-item">
                                    <div id="profilePostsCount" class="stat-value">0</div>
                                    <div class="stat-label">Posts</div>
                                </div>
                            </div>

                            <!-- C√ìDIGO DE REFERIDO -->
                            <div class="referral-section" style="margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 12px; width: 100%;">
                                <h4 style="margin-bottom: 10px; color: #333;">üéÅ C√≥digo de Referido</h4>
                                <div style="display: flex; gap: 10px; align-items: center;">
                                    <input type="text" id="referralCode" readonly value="" style="flex: 1; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; background: white;">
                                    <button onclick="copyReferralLink()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 12px 15px; border-radius: 8px; cursor: pointer;">üìã</button>
                                </div>
                                <p style="margin-top: 10px; font-size: 12px; color: #666;">
                                    Comparte este c√≥digo para invitar amigos
                                </p>
                                <p id="referralStats" style="margin-top: 5px; font-size: 12px; color: #4CAF50; font-weight: 600;"></p>
                            </div>
                            
                            <button class="btn-logout" onclick="logout()">Cerrar Sesi√≥n</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MATCH POPUP -->
        <div id="matchPopup" class="match-popup">
            <div class="match-popup-content">
                <span class="match-emoji">üíï</span>
                <h2>¬°Es un Match!</h2>
                <p id="matchUserName"></p>
                <div class="match-buttons">
                    <button class="btn btn-primary" onclick="closeMatchPopup()">Seguir</button>
                    <button class="btn btn-secondary" onclick="openChatFromMatch()">Enviar mensaje</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
